{% extends "missions/base.html" %}

{% block title %}Launch sites{% endblock %}

{% block content %}
<div class="card">
    <div class="grid-x align-justify align-middle"
         style="margin-bottom: 0.75rem;">
        <div class="cell auto">
            <h2 class="h4">Launch site candidates</h2>
            <p class="muted">Launch points proposed for this mission</p>
        </div>
        <div class="cell shrink">
            <a class="button primary small"
               href="{% url 'missions:launch_site_create' mission_id=mission.pk %}">
                Add launch site
            </a>
        </div>
        <span class="label secondary">{{ mission.name }}</span>
    </div>
    <table class="stack">
        <thead>
            <tr>
                <th>Name</th>
                <th>Location (lat, lon)</th>
                <th>Altitude</th>
                <th>Planned launch</th>
            </tr>
        </thead>
        <tbody>
            {% for site in launch_sites %}
                <tr>
                    <td><a href="{% url 'missions:launch_site_detail' mission_id=mission.pk launch_site_id=site.pk %}">{{ site.name }}</a></td>
                    <td>{{ site.location.y|floatformat:5 }}, {{ site.location.x|floatformat:5 }}</td>
                    <td>{% if site.altitude %}{{ site.altitude }} m{% else %}—{% endif %}</td>
                    <td>{% if site.intended_launch_at %}{{ site.intended_launch_at|date:"Y-m-d H:i" }}{% else %}—{% endif %}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4" class="text-center muted">No launch sites yet.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
