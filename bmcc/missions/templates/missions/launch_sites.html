{% extends "missions/base.html" %}

{% block title %}Launch Sites{% endblock %}

{% block header %}
<div class="grid-x align-justify align-middle">
    <div class="cell shrink">
        <h1 class="h3">Launch Sites</h1>
        <p class="muted">Candidate launch sites proposed for this mission</p>
    </div>
    <div class="cell shrink">
        <a class="button primary small"
            href="{% url 'missions:launch_site_create' mission_id=mission.pk %}">
            Add launch site
        </a>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="card">
    <table class="stack">
        <thead>
            <tr>
                <th>Name</th>
                <th>Location (lat, lon)</th>
                <th>Altitude</th>
                <th>Planned launch</th>
            </tr>
        </thead>
        <tbody>
            {% for site in launch_sites %}
                <tr>
                    <td><a href="{% url 'missions:launch_site_detail' mission_id=mission.pk launch_site_id=site.pk %}">{{ site.name }}</a></td>
                    <td>{{ site.location.y|floatformat:5 }}, {{ site.location.x|floatformat:5 }}</td>
                    <td>{% if site.altitude %}{{ site.altitude }} m{% else %}—{% endif %}</td>
                    <td>{% if site.intended_launch_at %}{{ site.intended_launch_at|date:"Y-m-d H:i" }}{% else %}—{% endif %}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4" class="text-center muted">No launch sites yet.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
